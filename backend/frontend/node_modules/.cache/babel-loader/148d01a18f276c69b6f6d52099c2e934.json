{"ast":null,"code":"import{authenticationService}from\"../services/authenticationService\";export function handleResponse(response){return response.text().then(function(text){var data=text&&JSON.parse(text);if(!response.ok){if([401,403].indexOf(response.status)!==-1){// auto logout if 401 Unauthorized or 403 Forbidden response returned from api\nauthenticationService.logout();//location.reload(true);\n}var error=data&&data.message||response.statusText;return Promise.reject(error);}return data;});}","map":{"version":3,"sources":["/home/adrian/DiMOP/backend/frontend/src/helpers/handle-response.jsx"],"names":["authenticationService","handleResponse","response","text","then","data","JSON","parse","ok","indexOf","status","logout","error","message","statusText","Promise","reject"],"mappings":"AAAA,OAASA,qBAAT,KAAsC,mCAAtC,CAEA,MAAO,SAASC,CAAAA,cAAT,CAAwBC,QAAxB,CAAkC,CACvC,MAAOA,CAAAA,QAAQ,CAACC,IAAT,GAAgBC,IAAhB,CAAqB,SAACD,IAAD,CAAU,CACpC,GAAME,CAAAA,IAAI,CAAGF,IAAI,EAAIG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAArB,CACA,GAAI,CAACD,QAAQ,CAACM,EAAd,CAAkB,CAChB,GAAI,CAAC,GAAD,CAAM,GAAN,EAAWC,OAAX,CAAmBP,QAAQ,CAACQ,MAA5B,IAAwC,CAAC,CAA7C,CAAgD,CAC9C;AACAV,qBAAqB,CAACW,MAAtB,GACA;AACD,CAED,GAAMC,CAAAA,KAAK,CAAIP,IAAI,EAAIA,IAAI,CAACQ,OAAd,EAA0BX,QAAQ,CAACY,UAAjD,CACA,MAAOC,CAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP,CACD,CAED,MAAOP,CAAAA,IAAP,CACD,CAdM,CAAP,CAeD","sourcesContent":["import { authenticationService } from \"../services/authenticationService\";\n\nexport function handleResponse(response) {\n  return response.text().then((text) => {\n    const data = text && JSON.parse(text);\n    if (!response.ok) {\n      if ([401, 403].indexOf(response.status) !== -1) {\n        // auto logout if 401 Unauthorized or 403 Forbidden response returned from api\n        authenticationService.logout();\n        //location.reload(true);\n      }\n\n      const error = (data && data.message) || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n"]},"metadata":{},"sourceType":"module"}