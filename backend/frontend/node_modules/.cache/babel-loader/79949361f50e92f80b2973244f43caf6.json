{"ast":null,"code":"import _slicedToArray from\"/home/adrian/DiMOP/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ReactDOM from\"react-dom\";import{Route,Router,Switch}from\"react-router-dom\";import{APIProvider}from\"./APIContext\";import{PrivateRoute}from\"./components/PrivateRoute/PrivateRoute\";import{UserProvider}from\"./contexts/UserContext\";import{history}from\"./helpers/history\";import\"./index.css\";import{authenticationService}from\"./services/authenticationService\";import*as serviceWorker from\"./serviceWorker\";import ConstructionWrapper from\"./views/Construction/ConstructionWrapper\";import{Home}from\"./views/Home/Home\";import{Login}from\"./views/Login/Login\";import MainWrapper from\"./views/Main/MainWrapper\";import Settings from\"./views/Settings/Settings\";// using router and debugging API Context in all sources\nvar styleLink=document.createElement(\"link\");styleLink.rel=\"stylesheet\";styleLink.href=\"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";document.head.appendChild(styleLink);var App=function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];useEffect(function(){authenticationService.currentUser.subscribe(function(x){return setUser({currentUser:x});});},[]);var logout=function logout(){authenticationService.logout();history.push(\"/login\");};return/*#__PURE__*/React.createElement(Router,{history:history},/*#__PURE__*/React.createElement(APIProvider,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/home\",component:Home}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/construction\",component:ConstructionWrapper}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/settings\",component:Settings}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/main\",component:MainWrapper}),/*#__PURE__*/React.createElement(Route,{path:\"/login\",component:Login}))));};ReactDOM.render(/*#__PURE__*/React.createElement(UserProvider,null,/*#__PURE__*/React.createElement(App,null)),document.getElementById(\"root\"));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","map":{"version":3,"sources":["/home/adrian/DiMOP/backend/frontend/src/index.js"],"names":["React","useEffect","useState","ReactDOM","Route","Router","Switch","APIProvider","PrivateRoute","UserProvider","history","authenticationService","serviceWorker","ConstructionWrapper","Home","Login","MainWrapper","Settings","styleLink","document","createElement","rel","href","head","appendChild","App","user","setUser","currentUser","subscribe","x","logout","push","render","getElementById","unregister"],"mappings":"sHAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,MAAxB,KAAsC,kBAAtC,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,YAAT,KAA6B,wCAA7B,CACA,OAASC,YAAT,KAA6B,wBAA7B,CACA,OAASC,OAAT,KAAwB,mBAAxB,CACA,MAAO,aAAP,CACA,OAASC,qBAAT,KAAsC,kCAAtC,CACA,MAAO,GAAKC,CAAAA,aAAZ,KAA+B,iBAA/B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,0CAAhC,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,OAASC,KAAT,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CAEA;AACA,GAAMC,CAAAA,SAAS,CAAGC,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAlB,CACAF,SAAS,CAACG,GAAV,CAAgB,YAAhB,CACAH,SAAS,CAACI,IAAV,CACE,gEADF,CAEAH,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,SAA1B,EAEA,GAAMO,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,eACQvB,QAAQ,CAAC,IAAD,CADhB,wCACTwB,IADS,eACHC,OADG,eAGhB1B,SAAS,CAAC,UAAM,CACdU,qBAAqB,CAACiB,WAAtB,CAAkCC,SAAlC,CAA4C,SAACC,CAAD,QAC1CH,CAAAA,OAAO,CAAC,CAAEC,WAAW,CAAEE,CAAf,CAAD,CADmC,EAA5C,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBpB,qBAAqB,CAACoB,MAAtB,GACArB,OAAO,CAACsB,IAAR,CAAa,QAAb,EACD,CAHD,CAKA,mBACE,oBAAC,MAAD,EAAQ,OAAO,CAAEtB,OAAjB,eACE,oBAAC,WAAD,mBACE,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,CAAsB,SAAS,CAAEI,IAAjC,EADF,cAEE,oBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,SAAS,CAAEA,IAAtC,EAFF,cAGE,oBAAC,YAAD,EACE,IAAI,CAAC,eADP,CAEE,SAAS,CAAED,mBAFb,EAHF,cAOE,oBAAC,YAAD,EAAc,IAAI,CAAC,WAAnB,CAA+B,SAAS,CAAEI,QAA1C,EAPF,cAQE,oBAAC,YAAD,EAAc,IAAI,CAAC,OAAnB,CAA2B,SAAS,CAAED,WAAtC,EARF,cASE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAED,KAAhC,EATF,CADF,CADF,CADF,CAiBD,CA/BD,CAiCAZ,QAAQ,CAAC8B,MAAT,cACE,oBAAC,YAAD,mBACE,oBAAC,GAAD,MADF,CADF,CAIEd,QAAQ,CAACe,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAtB,aAAa,CAACuB,UAAd","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Route, Router, Switch } from \"react-router-dom\";\nimport { APIProvider } from \"./APIContext\";\nimport { PrivateRoute } from \"./components/PrivateRoute/PrivateRoute\";\nimport { UserProvider } from \"./contexts/UserContext\";\nimport { history } from \"./helpers/history\";\nimport \"./index.css\";\nimport { authenticationService } from \"./services/authenticationService\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport ConstructionWrapper from \"./views/Construction/ConstructionWrapper\";\nimport { Home } from \"./views/Home/Home\";\nimport { Login } from \"./views/Login/Login\";\nimport MainWrapper from \"./views/Main/MainWrapper\";\nimport Settings from \"./views/Settings/Settings\";\n\n// using router and debugging API Context in all sources\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href =\n  \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    authenticationService.currentUser.subscribe((x) =>\n      setUser({ currentUser: x })\n    );\n  }, []);\n\n  const logout = () => {\n    authenticationService.logout();\n    history.push(\"/login\");\n  };\n\n  return (\n    <Router history={history}>\n      <APIProvider>\n        <Switch>\n          <Route exact path=\"/\" component={Home}></Route>\n          <PrivateRoute path=\"/home\" component={Home}></PrivateRoute>\n          <PrivateRoute\n            path=\"/construction\"\n            component={ConstructionWrapper}\n          ></PrivateRoute>\n          <PrivateRoute path=\"/settings\" component={Settings}></PrivateRoute>\n          <PrivateRoute path=\"/main\" component={MainWrapper}></PrivateRoute>\n          <Route path=\"/login\" component={Login}></Route>\n        </Switch>\n      </APIProvider>\n    </Router>\n  );\n};\n\nReactDOM.render(\n  <UserProvider>\n    <App />\n  </UserProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}