{"ast":null,"code":"var _jsxFileName = \"/home/adrian/DIMOP/dimop_frontend/src/views/Main/ConstructionsTable.jsx\";\nimport React from \"react\";\nimport { useEffect, useContext, useState } from \"react\"; // Components\n\nimport { MainContext } from \"./MainContext.jsx\";\nimport AddConstructionDialog from \"./AddConstructionDialog.jsx\";\nimport DeleteConstructionDialog from \"./DeleteConstructionDialog.jsx\"; //Material UI\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\nimport { SelectionState, FilteringState, IntegratedFiltering } from \"@devexpress/dx-react-grid\";\nimport { Grid as GridDevExpress, Table, TableSelection, TableColumnVisibility, ColumnChooser, TableHeaderRow, TableFilterRow, Toolbar } from \"@devexpress/dx-react-grid-material-ui\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"25ch\"\n    }\n  },\n  buttons: {\n    borderColor: \"#005000\",\n    color: \"#005000\",\n    textTransform: \"none\",\n    margin: 20,\n    height: 30,\n    width: 120\n  }\n}));\n\nconst ConstructionTable = () => {\n  const classes = useStyles();\n  const {\n    selected_construction_id,\n    selected_construction_title,\n    orga_id,\n    constructions_updated\n  } = useContext(MainContext);\n  const [orgaId, setOrgaId] = orga_id;\n  const [selectedConstructionId, setSelectedConstructionId] = selected_construction_id;\n  const [selectedConstructionTitle, setSelectedConstructionTitle] = selected_construction_title;\n  const [constructionData, setConstructionData] = useState([]);\n  const [constructionsUpdated, setConstructionsUpdate] = constructions_updated;\n  useEffect(() => {\n    fetch(\"http://localhost:5000/cons/\" + orgaId).then(res => {\n      return res.json();\n    }).then(d => {\n      setConstructionData(d.filter(d => d.del_kz === 0));\n    });\n  }, [constructionsUpdated]);\n  const [constructionColumns] = useState([{\n    name: \"id\",\n    title: \"Konstr.Nr.\"\n  }, {\n    name: \"cons_title\",\n    title: \"Konstr.Titel.\"\n  }, {\n    name: \"cons_desc\",\n    title: \"Konstr.Beschr.\"\n  }, {\n    name: \"del_kz\",\n    title: \"Lösch.Kennz.\"\n  }]);\n  const [defaultHiddenColumnNames] = useState([\"del_kz\"]);\n  const [tableColumnExtensions] = useState([{\n    columnName: \"id\",\n    width: 100\n  }, {\n    columnName: \"cons_title\",\n    width: 250\n  }, {\n    columnName: \"cons_desc\",\n    width: 550,\n    wordWrapEnabled: true\n  }, {\n    columnName: \"del_kz\",\n    width: 50\n  }]);\n  const [selection, setSelection] = useState([]);\n\n  const onClickSelect = () => {\n    if (selection.length == 1) {\n      setSelectedConstructionId(constructionData[selection].id);\n      setSelectedConstructionTitle(constructionData[selection].cons_title);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(GridDevExpress, {\n    rows: constructionData,\n    columns: constructionColumns,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SelectionState, {\n    selection: selection,\n    onSelectionChange: setSelection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(FilteringState, {\n    defaultFilters: [],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(IntegratedFiltering, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Table, {\n    columnExtensions: tableColumnExtensions,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TableSelection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TableColumnVisibility, {\n    defaultHiddenColumnNames: defaultHiddenColumnNames,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Toolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ColumnChooser, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TableFilterRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TableHeaderRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: onClickSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"Hiermit k\\xF6nnen Sie eine Konstruktion l\\xF6schen.\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(DeleteConstructionDialog, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, \"Hiermit k\\xF6nnen Sie eine Konstruktion erstellen.\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddConstructionDialog, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, \"Hiermit k\\xF6nnen Sie eine Konstruktion ausw\\xE4hlen.\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: classes.buttons,\n    onClick: onClickSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CheckCircleIcon, {\n    style: {\n      marginRight: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }), \"Ausw\\xE4hlen\")))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 12,\n    justify: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, selection.length == 1 == false ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: \"red\",\n      marginTop: 20,\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(WarningIcon, {\n    style: {\n      fontSize: \"small\",\n      marginRight: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }), \" \", \"Bitte w\\xE4hlen Sie eine Konstruktion.\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  })));\n};\n\nexport default ConstructionTable;","map":{"version":3,"sources":["/home/adrian/DIMOP/dimop_frontend/src/views/Main/ConstructionsTable.jsx"],"names":["React","useEffect","useContext","useState","MainContext","AddConstructionDialog","DeleteConstructionDialog","makeStyles","Button","Grid","CheckCircleIcon","Tooltip","Typography","WarningIcon","SelectionState","FilteringState","IntegratedFiltering","GridDevExpress","Table","TableSelection","TableColumnVisibility","ColumnChooser","TableHeaderRow","TableFilterRow","Toolbar","useStyles","theme","root","margin","spacing","width","buttons","borderColor","color","textTransform","height","ConstructionTable","classes","selected_construction_id","selected_construction_title","orga_id","constructions_updated","orgaId","setOrgaId","selectedConstructionId","setSelectedConstructionId","selectedConstructionTitle","setSelectedConstructionTitle","constructionData","setConstructionData","constructionsUpdated","setConstructionsUpdate","fetch","then","res","json","d","filter","del_kz","constructionColumns","name","title","defaultHiddenColumnNames","tableColumnExtensions","columnName","wordWrapEnabled","selection","setSelection","onClickSelect","length","id","cons_title","marginRight","marginTop","marginBottom","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect, useContext, useState } from \"react\";\n\n// Components\nimport { MainContext } from \"./MainContext.jsx\";\nimport AddConstructionDialog from \"./AddConstructionDialog.jsx\";\nimport DeleteConstructionDialog from \"./DeleteConstructionDialog.jsx\";\n\n//Material UI\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\n\nimport {\n  SelectionState,\n  FilteringState,\n  IntegratedFiltering,\n} from \"@devexpress/dx-react-grid\";\n\nimport {\n  Grid as GridDevExpress,\n  Table,\n  TableSelection,\n  TableColumnVisibility,\n  ColumnChooser,\n  TableHeaderRow,\n  TableFilterRow,\n  Toolbar,\n} from \"@devexpress/dx-react-grid-material-ui\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"25ch\",\n    },\n  },\n  buttons: {\n    borderColor: \"#005000\",\n    color: \"#005000\",\n    textTransform: \"none\",\n    margin: 20,\n    height: 30,\n    width: 120,\n  },\n}));\n\nconst ConstructionTable = () => {\n  const classes = useStyles();\n\n  const {\n    selected_construction_id,\n    selected_construction_title,\n    orga_id,\n    constructions_updated,\n  } = useContext(MainContext);\n\n  const [orgaId, setOrgaId] = orga_id;\n\n  const [\n    selectedConstructionId,\n    setSelectedConstructionId,\n  ] = selected_construction_id;\n  const [\n    selectedConstructionTitle,\n    setSelectedConstructionTitle,\n  ] = selected_construction_title;\n\n  const [constructionData, setConstructionData] = useState([]);\n  const [constructionsUpdated, setConstructionsUpdate] = constructions_updated;\n\n  useEffect(() => {\n    fetch(\"http://localhost:5000/cons/\" + orgaId)\n      .then((res) => {\n        return res.json();\n      })\n      .then((d) => {\n        setConstructionData(d.filter((d) => d.del_kz === 0));\n      });\n  }, [constructionsUpdated]);\n\n  const [constructionColumns] = useState([\n    { name: \"id\", title: \"Konstr.Nr.\" },\n    { name: \"cons_title\", title: \"Konstr.Titel.\" },\n    { name: \"cons_desc\", title: \"Konstr.Beschr.\" },\n    { name: \"del_kz\", title: \"Lösch.Kennz.\" },\n  ]);\n\n  const [defaultHiddenColumnNames] = useState([\"del_kz\"]);\n\n  const [tableColumnExtensions] = useState([\n    { columnName: \"id\", width: 100 },\n    { columnName: \"cons_title\", width: 250 },\n    { columnName: \"cons_desc\", width: 550, wordWrapEnabled: true },\n    { columnName: \"del_kz\", width: 50 },\n  ]);\n\n  const [selection, setSelection] = useState([]);\n\n  const onClickSelect = () => {\n    if (selection.length == 1) {\n      setSelectedConstructionId(constructionData[selection].id);\n      setSelectedConstructionTitle(constructionData[selection].cons_title);\n    }\n  };\n\n  return (\n    <div>\n      <GridDevExpress rows={constructionData} columns={constructionColumns}>\n        <SelectionState\n          selection={selection}\n          onSelectionChange={setSelection}\n        />\n        <FilteringState defaultFilters={[]} />\n        <IntegratedFiltering />\n        <Table columnExtensions={tableColumnExtensions} />\n        <TableSelection />\n        <TableColumnVisibility\n          defaultHiddenColumnNames={defaultHiddenColumnNames}\n        />\n        <Toolbar />\n        <ColumnChooser />\n        <TableFilterRow />\n        <TableHeaderRow />\n      </GridDevExpress>\n\n      <Grid container item xs={12}>\n        <Grid item xs={6}></Grid>\n        <Grid item xs={2}>\n          <div onClick={onClickSelect}>\n            <Tooltip\n              title={\n                <Typography variant=\"body1\">\n                  Hiermit können Sie eine Konstruktion löschen.\n                </Typography>\n              }\n            >\n              <div>\n                <DeleteConstructionDialog></DeleteConstructionDialog>\n              </div>\n            </Tooltip>\n          </div>\n        </Grid>\n        <Grid item xs={2}>\n          <Tooltip\n            title={\n              <Typography variant=\"body1\">\n                Hiermit können Sie eine Konstruktion erstellen.\n              </Typography>\n            }\n          >\n            <div>\n              <AddConstructionDialog></AddConstructionDialog>\n            </div>\n          </Tooltip>\n        </Grid>\n        <Grid item xs={2}>\n          <Tooltip\n            title={\n              <Typography variant=\"body1\">\n                Hiermit können Sie eine Konstruktion auswählen.\n              </Typography>\n            }\n          >\n            <Button className={classes.buttons} onClick={onClickSelect}>\n              <CheckCircleIcon style={{ marginRight: 5 }}></CheckCircleIcon>\n              Auswählen\n            </Button>\n          </Tooltip>\n        </Grid>\n      </Grid>\n      <Grid container item xs={12} justify=\"center\">\n        {(selection.length == 1) == false ? (\n          <div style={{ color: \"red\", marginTop: 20, marginBottom: 20 }}>\n            <WarningIcon\n              style={{ fontSize: \"small\", marginRight: 10 }}\n            ></WarningIcon>{\" \"}\n            Bitte wählen Sie eine Konstruktion.\n          </div>\n        ) : (\n          <div />\n        )}\n      </Grid>\n    </div>\n  );\n};\n\nexport default ConstructionTable;\n"]},"metadata":{},"sourceType":"module"}