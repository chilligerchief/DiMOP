{"ast":null,"code":"import _slicedToArray from\"/home/adrian/DiMOP/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useContext}from\"react\";//Components\nimport{MainContext}from\"./MainContext.jsx\";//Material UI\nimport Button from\"@material-ui/core/Button\";import{makeStyles}from\"@material-ui/core/styles\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Grid from\"@material-ui/core/Grid\";import HighlightOffIcon from\"@material-ui/icons/HighlightOff\";import{Typography}from\"@material-ui/core\";import DeleteIcon from\"@material-ui/icons/Delete\";import Card from\"@material-ui/core/Card\";import CardContent from\"@material-ui/core/CardContent\";// css theme\nvar useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1),width:\"25ch\"}},buttons:{borderColor:\"#005000\",color:\"#005000\",textTransform:\"none\",margin:20,height:30,width:120}};});var DeleteConstructionDialog=function DeleteConstructionDialog(){var classes=useStyles();var _useContext=useContext(MainContext),delete_construction_open=_useContext.delete_construction_open,constructions_updated=_useContext.constructions_updated,selected_construction_id=_useContext.selected_construction_id;var _selected_constructio=_slicedToArray(selected_construction_id,2),selectedConstructionId=_selected_constructio[0],setSelectedConstructionId=_selected_constructio[1];var _constructions_update=_slicedToArray(constructions_updated,2),constructionsUpdated=_constructions_update[0],setConstructionsUpdated=_constructions_update[1];var _delete_construction_=_slicedToArray(delete_construction_open,2),delecteConstructionOpen=_delete_construction_[0],setDeleteConstructionOpen=_delete_construction_[1];var handleClickOpen=function handleClickOpen(){setDeleteConstructionOpen(true);};var handleClose=function handleClose(){setDeleteConstructionOpen(false);setSelectedConstructionId([]);};var deleteConstructionEntry=function deleteConstructionEntry(consId){var requestOptions={method:\"DELETE\",redirect:\"follow\"};fetch(\"http://localhost:5000/cons/\"+consId,requestOptions).then(function(response){return response.text();}).then(function(result){return console.log(result);}).catch(function(error){return console.log(\"error\",error);});setConstructionsUpdated(!constructionsUpdated);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button,{className:classes.buttons,onClick:handleClickOpen},/*#__PURE__*/React.createElement(DeleteIcon,{style:{marginRight:5}}),\"L\\xF6schen\"),/*#__PURE__*/React.createElement(Dialog,{open:delecteConstructionOpen,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(HighlightOffIcon,{style:{color:\"#005000\"},onClick:handleClose})),/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Konstruktion l\\xF6schen\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(Typography,null,\"Wollen Sie die Konstruktion wirklich l\\xF6schen?\"),/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:12,justify:\"center\"},/*#__PURE__*/React.createElement(Card,{className:classes.root_card,variant:\"outlined\"},/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{className:classes.title,color:\"textSecondary\",gutterBottom:true,align:\"center\"},\"Ausgew\\xE4hlte Konstruktion:\"),/*#__PURE__*/React.createElement(Typography,{variant:\"h5\",component:\"h2\",align:\"center\"},selectedConstructionId)))),/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:12},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:classes.buttons,variant:\"outlined\",onClick:handleClose},\"Nein\")),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(Button,{color:\"primary\",className:classes.buttons,variant:\"outlined\",onClick:function onClick(){console.log(typeof selectedConstructionId);deleteConstructionEntry(selectedConstructionId);handleClose();}},\"Ja\"))))));};export default DeleteConstructionDialog;","map":{"version":3,"sources":["/home/adrian/DiMOP/backend/frontend/src/views/Main/DeleteConstructionDialog.jsx"],"names":["React","useContext","MainContext","Button","makeStyles","Dialog","DialogActions","DialogContent","DialogTitle","Grid","HighlightOffIcon","Typography","DeleteIcon","Card","CardContent","useStyles","theme","root","margin","spacing","width","buttons","borderColor","color","textTransform","height","DeleteConstructionDialog","classes","delete_construction_open","constructions_updated","selected_construction_id","selectedConstructionId","setSelectedConstructionId","constructionsUpdated","setConstructionsUpdated","delecteConstructionOpen","setDeleteConstructionOpen","handleClickOpen","handleClose","deleteConstructionEntry","consId","requestOptions","method","redirect","fetch","then","response","text","result","console","log","catch","error","marginRight","root_card","title"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useContext } from \"react\";\n\n//Components\nimport { MainContext } from \"./MainContext.jsx\";\n\n//Material UI\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Grid from \"@material-ui/core/Grid\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { Typography } from \"@material-ui/core\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\n// css theme\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"25ch\",\n    },\n  },\n  buttons: {\n    borderColor: \"#005000\",\n    color: \"#005000\",\n    textTransform: \"none\",\n    margin: 20,\n    height: 30,\n    width: 120,\n  },\n}));\n\nconst DeleteConstructionDialog = () => {\n  const classes = useStyles();\n\n  const {\n    delete_construction_open,\n    constructions_updated,\n    selected_construction_id,\n  } = useContext(MainContext);\n\n  const [\n    selectedConstructionId,\n    setSelectedConstructionId,\n  ] = selected_construction_id;\n  const [constructionsUpdated, setConstructionsUpdated] = constructions_updated;\n  const [\n    delecteConstructionOpen,\n    setDeleteConstructionOpen,\n  ] = delete_construction_open;\n\n  const handleClickOpen = () => {\n    setDeleteConstructionOpen(true);\n  };\n\n  const handleClose = () => {\n    setDeleteConstructionOpen(false);\n    setSelectedConstructionId([]);\n  };\n\n  const deleteConstructionEntry = (consId) => {\n    var requestOptions = {\n      method: \"DELETE\",\n      redirect: \"follow\",\n    };\n    fetch(\"http://localhost:5000/cons/\" + consId, requestOptions)\n      .then((response) => response.text())\n      .then((result) => console.log(result))\n      .catch((error) => console.log(\"error\", error));\n\n    setConstructionsUpdated(!constructionsUpdated);\n  };\n\n  return (\n    <div>\n      <Button className={classes.buttons} onClick={handleClickOpen}>\n        <DeleteIcon style={{ marginRight: 5 }}></DeleteIcon>\n        Löschen\n      </Button>\n      <Dialog\n        open={delecteConstructionOpen}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogActions>\n          <HighlightOffIcon\n            style={{ color: \"#005000\" }}\n            onClick={handleClose}\n          ></HighlightOffIcon>\n        </DialogActions>\n        <DialogTitle id=\"form-dialog-title\">Konstruktion löschen</DialogTitle>\n        <DialogContent>\n          <Typography>Wollen Sie die Konstruktion wirklich löschen?</Typography>\n\n          <Grid container item xs={12} justify=\"center\">\n            <Card className={classes.root_card} variant=\"outlined\">\n              <CardContent>\n                <Typography\n                  className={classes.title}\n                  color=\"textSecondary\"\n                  gutterBottom\n                  align=\"center\"\n                >\n                  Ausgewählte Konstruktion:\n                </Typography>\n                <Typography variant=\"h5\" component=\"h2\" align=\"center\">\n                  {selectedConstructionId}\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid container item xs={12}>\n            <Grid item xs={6}>\n              <Button\n                color=\"primary\"\n                className={classes.buttons}\n                variant=\"outlined\"\n                onClick={handleClose}\n              >\n                Nein\n              </Button>\n            </Grid>\n\n            <Grid item xs={6}>\n              <Button\n                color=\"primary\"\n                className={classes.buttons}\n                variant=\"outlined\"\n                onClick={() => {\n                  console.log(typeof selectedConstructionId);\n                  deleteConstructionEntry(selectedConstructionId);\n                  handleClose();\n                }}\n              >\n                Ja\n              </Button>\n            </Grid>\n          </Grid>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\nexport default DeleteConstructionDialog;\n"]},"metadata":{},"sourceType":"module"}