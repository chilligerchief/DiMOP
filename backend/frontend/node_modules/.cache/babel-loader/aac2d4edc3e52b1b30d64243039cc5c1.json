{"ast":null,"code":"import _slicedToArray from\"/Users/top63vj/Documents/GitHub/DiMOP_backend/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useEffect,useContext,useState}from\"react\";// Components\nimport{MainContext}from\"./MainContext.jsx\";import AddConstructionDialog from\"./AddConstructionDialog.jsx\";import DeleteConstructionDialog from\"./DeleteConstructionDialog.jsx\";//Material UI\nimport{makeStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import Grid from\"@material-ui/core/Grid\";import CheckCircleIcon from\"@material-ui/icons/CheckCircle\";import Tooltip from\"@material-ui/core/Tooltip\";import Typography from\"@material-ui/core/Typography\";import WarningIcon from\"@material-ui/icons/Warning\";import{SelectionState,FilteringState,IntegratedFiltering}from\"@devexpress/dx-react-grid\";import{Grid as GridDevExpress,Table,TableSelection,TableColumnVisibility,ColumnChooser,TableHeaderRow,TableFilterRow,Toolbar}from\"@devexpress/dx-react-grid-material-ui\";var useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1),width:\"25ch\"}},buttons:{borderColor:\"#005000\",color:\"#005000\",textTransform:\"none\",margin:20,height:30,width:120}};});var ConstructionTable=function ConstructionTable(){var classes=useStyles();var _useContext=useContext(MainContext),selected_construction_id=_useContext.selected_construction_id,selected_construction_title=_useContext.selected_construction_title,orga_id=_useContext.orga_id,constructions_updated=_useContext.constructions_updated;var _orga_id=_slicedToArray(orga_id,2),orgaId=_orga_id[0],setOrgaId=_orga_id[1];var _selected_constructio=_slicedToArray(selected_construction_id,2),selectedConstructionId=_selected_constructio[0],setSelectedConstructionId=_selected_constructio[1];var _selected_constructio2=_slicedToArray(selected_construction_title,2),selectedConstructionTitle=_selected_constructio2[0],setSelectedConstructionTitle=_selected_constructio2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),constructionData=_useState2[0],setConstructionData=_useState2[1];var _constructions_update=_slicedToArray(constructions_updated,2),constructionsUpdated=_constructions_update[0],setConstructionsUpdate=_constructions_update[1];useEffect(function(){fetch(\"/cons/\"+orgaId).then(function(res){return res.json();}).then(function(d){setConstructionData(d.filter(function(d){return d.del_kz===0;}));});},[constructionsUpdated]);var _useState3=useState([{name:\"id\",title:\"Konstr.Nr.\"},{name:\"cons_title\",title:\"Konstr.Titel.\"},{name:\"cons_desc\",title:\"Konstr.Beschr.\"},{name:\"del_kz\",title:\"Lösch.Kennz.\"}]),_useState4=_slicedToArray(_useState3,1),constructionColumns=_useState4[0];var _useState5=useState([\"del_kz\"]),_useState6=_slicedToArray(_useState5,1),defaultHiddenColumnNames=_useState6[0];var _useState7=useState([{columnName:\"id\",width:100},{columnName:\"cons_title\",width:250},{columnName:\"cons_desc\",width:550,wordWrapEnabled:true},{columnName:\"del_kz\",width:50}]),_useState8=_slicedToArray(_useState7,1),tableColumnExtensions=_useState8[0];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selection=_useState10[0],setSelection=_useState10[1];var onClickSelect=function onClickSelect(){if(selection.length==1){setSelectedConstructionId(constructionData[selection].id);setSelectedConstructionTitle(constructionData[selection].cons_title);}};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(GridDevExpress,{rows:constructionData,columns:constructionColumns},/*#__PURE__*/React.createElement(SelectionState,{selection:selection,onSelectionChange:setSelection}),/*#__PURE__*/React.createElement(FilteringState,{defaultFilters:[]}),/*#__PURE__*/React.createElement(IntegratedFiltering,null),/*#__PURE__*/React.createElement(Table,{columnExtensions:tableColumnExtensions}),/*#__PURE__*/React.createElement(TableSelection,null),/*#__PURE__*/React.createElement(TableColumnVisibility,{defaultHiddenColumnNames:defaultHiddenColumnNames}),/*#__PURE__*/React.createElement(Toolbar,null),/*#__PURE__*/React.createElement(ColumnChooser,null),/*#__PURE__*/React.createElement(TableFilterRow,null),/*#__PURE__*/React.createElement(TableHeaderRow,null)),/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:12},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:2},/*#__PURE__*/React.createElement(\"div\",{onClick:onClickSelect},/*#__PURE__*/React.createElement(Tooltip,{title:/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},\"Hiermit k\\xF6nnen Sie eine Konstruktion l\\xF6schen.\")},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DeleteConstructionDialog,null))))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:2},/*#__PURE__*/React.createElement(Tooltip,{title:/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},\"Hiermit k\\xF6nnen Sie eine Konstruktion erstellen.\")},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(AddConstructionDialog,null)))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:2},/*#__PURE__*/React.createElement(Tooltip,{title:/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},\"Hiermit k\\xF6nnen Sie eine Konstruktion ausw\\xE4hlen.\")},/*#__PURE__*/React.createElement(Button,{className:classes.buttons,onClick:onClickSelect},/*#__PURE__*/React.createElement(CheckCircleIcon,{style:{marginRight:5}}),\"Ausw\\xE4hlen\")))),/*#__PURE__*/React.createElement(Grid,{container:true,item:true,xs:12,justify:\"center\"},selection.length==1==false?/*#__PURE__*/React.createElement(\"div\",{style:{color:\"red\",marginTop:20,marginBottom:20}},/*#__PURE__*/React.createElement(WarningIcon,{style:{fontSize:\"small\",marginRight:10}}),\" \",\"Bitte w\\xE4hlen Sie eine Konstruktion.\"):/*#__PURE__*/React.createElement(\"div\",null)));};export default ConstructionTable;","map":{"version":3,"sources":["/Users/top63vj/Documents/GitHub/DiMOP_backend/backend/frontend/src/views/Main/ConstructionsTable.jsx"],"names":["React","useEffect","useContext","useState","MainContext","AddConstructionDialog","DeleteConstructionDialog","makeStyles","Button","Grid","CheckCircleIcon","Tooltip","Typography","WarningIcon","SelectionState","FilteringState","IntegratedFiltering","GridDevExpress","Table","TableSelection","TableColumnVisibility","ColumnChooser","TableHeaderRow","TableFilterRow","Toolbar","useStyles","theme","root","margin","spacing","width","buttons","borderColor","color","textTransform","height","ConstructionTable","classes","selected_construction_id","selected_construction_title","orga_id","constructions_updated","orgaId","setOrgaId","selectedConstructionId","setSelectedConstructionId","selectedConstructionTitle","setSelectedConstructionTitle","constructionData","setConstructionData","constructionsUpdated","setConstructionsUpdate","fetch","then","res","json","d","filter","del_kz","name","title","constructionColumns","defaultHiddenColumnNames","columnName","wordWrapEnabled","tableColumnExtensions","selection","setSelection","onClickSelect","length","id","cons_title","marginRight","marginTop","marginBottom","fontSize"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useEffect, useContext, useState } from \"react\";\n\n// Components\nimport { MainContext } from \"./MainContext.jsx\";\nimport AddConstructionDialog from \"./AddConstructionDialog.jsx\";\nimport DeleteConstructionDialog from \"./DeleteConstructionDialog.jsx\";\n\n//Material UI\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport WarningIcon from \"@material-ui/icons/Warning\";\n\nimport {\n  SelectionState,\n  FilteringState,\n  IntegratedFiltering,\n} from \"@devexpress/dx-react-grid\";\n\nimport {\n  Grid as GridDevExpress,\n  Table,\n  TableSelection,\n  TableColumnVisibility,\n  ColumnChooser,\n  TableHeaderRow,\n  TableFilterRow,\n  Toolbar,\n} from \"@devexpress/dx-react-grid-material-ui\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"25ch\",\n    },\n  },\n  buttons: {\n    borderColor: \"#005000\",\n    color: \"#005000\",\n    textTransform: \"none\",\n    margin: 20,\n    height: 30,\n    width: 120,\n  },\n}));\n\nconst ConstructionTable = () => {\n  const classes = useStyles();\n\n  const {\n    selected_construction_id,\n    selected_construction_title,\n    orga_id,\n    constructions_updated,\n  } = useContext(MainContext);\n\n  const [orgaId, setOrgaId] = orga_id;\n\n  const [\n    selectedConstructionId,\n    setSelectedConstructionId,\n  ] = selected_construction_id;\n  const [\n    selectedConstructionTitle,\n    setSelectedConstructionTitle,\n  ] = selected_construction_title;\n\n  const [constructionData, setConstructionData] = useState([]);\n  const [constructionsUpdated, setConstructionsUpdate] = constructions_updated;\n\n  useEffect(() => {\n    fetch(\"/cons/\" + orgaId)\n      .then((res) => {\n        return res.json();\n      })\n      .then((d) => {\n        setConstructionData(d.filter((d) => d.del_kz === 0));\n      });\n  }, [constructionsUpdated]);\n\n  const [constructionColumns] = useState([\n    { name: \"id\", title: \"Konstr.Nr.\" },\n    { name: \"cons_title\", title: \"Konstr.Titel.\" },\n    { name: \"cons_desc\", title: \"Konstr.Beschr.\" },\n    { name: \"del_kz\", title: \"Lösch.Kennz.\" },\n  ]);\n\n  const [defaultHiddenColumnNames] = useState([\"del_kz\"]);\n\n  const [tableColumnExtensions] = useState([\n    { columnName: \"id\", width: 100 },\n    { columnName: \"cons_title\", width: 250 },\n    { columnName: \"cons_desc\", width: 550, wordWrapEnabled: true },\n    { columnName: \"del_kz\", width: 50 },\n  ]);\n\n  const [selection, setSelection] = useState([]);\n\n  const onClickSelect = () => {\n    if (selection.length == 1) {\n      setSelectedConstructionId(constructionData[selection].id);\n      setSelectedConstructionTitle(constructionData[selection].cons_title);\n    }\n  };\n\n  return (\n    <div>\n      <GridDevExpress rows={constructionData} columns={constructionColumns}>\n        <SelectionState\n          selection={selection}\n          onSelectionChange={setSelection}\n        />\n        <FilteringState defaultFilters={[]} />\n        <IntegratedFiltering />\n        <Table columnExtensions={tableColumnExtensions} />\n        <TableSelection />\n        <TableColumnVisibility\n          defaultHiddenColumnNames={defaultHiddenColumnNames}\n        />\n        <Toolbar />\n        <ColumnChooser />\n        <TableFilterRow />\n        <TableHeaderRow />\n      </GridDevExpress>\n\n      <Grid container item xs={12}>\n        <Grid item xs={6}></Grid>\n        <Grid item xs={2}>\n          <div onClick={onClickSelect}>\n            <Tooltip\n              title={\n                <Typography variant=\"body1\">\n                  Hiermit können Sie eine Konstruktion löschen.\n                </Typography>\n              }\n            >\n              <div>\n                <DeleteConstructionDialog></DeleteConstructionDialog>\n              </div>\n            </Tooltip>\n          </div>\n        </Grid>\n        <Grid item xs={2}>\n          <Tooltip\n            title={\n              <Typography variant=\"body1\">\n                Hiermit können Sie eine Konstruktion erstellen.\n              </Typography>\n            }\n          >\n            <div>\n              <AddConstructionDialog></AddConstructionDialog>\n            </div>\n          </Tooltip>\n        </Grid>\n        <Grid item xs={2}>\n          <Tooltip\n            title={\n              <Typography variant=\"body1\">\n                Hiermit können Sie eine Konstruktion auswählen.\n              </Typography>\n            }\n          >\n            <Button className={classes.buttons} onClick={onClickSelect}>\n              <CheckCircleIcon style={{ marginRight: 5 }}></CheckCircleIcon>\n              Auswählen\n            </Button>\n          </Tooltip>\n        </Grid>\n      </Grid>\n      <Grid container item xs={12} justify=\"center\">\n        {(selection.length == 1) == false ? (\n          <div style={{ color: \"red\", marginTop: 20, marginBottom: 20 }}>\n            <WarningIcon\n              style={{ fontSize: \"small\", marginRight: 10 }}\n            ></WarningIcon>{\" \"}\n            Bitte wählen Sie eine Konstruktion.\n          </div>\n        ) : (\n          <div />\n        )}\n      </Grid>\n    </div>\n  );\n};\n\nexport default ConstructionTable;\n"]},"metadata":{},"sourceType":"module"}